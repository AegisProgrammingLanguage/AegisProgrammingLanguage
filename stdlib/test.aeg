import "stdlib/system.aeg"

namespace Assert {
    func eq(a, b, msg) {
        if (a != b) {
            System.fail("Assertion Failed: " + a + " != " + b + " (" + msg + ")")
        }
    }
    
    func is_true(cond, msg) {
        if (!cond) {
            System.fail("Assertion Failed: Expected true (" + msg + ")")
        }
    }
}

namespace Test {
    func run(name, callback) {
        print "TEST: " + name + "..."
        try {
            callback()
            print "  ✅ PASS"
        } catch (e) {
            print "  ❌ FAIL: " + e
        }
    }
}
